{"ast":null,"code":"import _toConsumableArray from \"/home/yvsser1/projects/ProjectPFE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/yvsser1/projects/ProjectPFE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/yvsser1/projects/ProjectPFE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/yvsser1/projects/ProjectPFE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/yvsser1/projects/ProjectPFE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/yvsser1/projects/ProjectPFE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/yvsser1/projects/ProjectPFE/src/components/home/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Helmet } from \"react-helmet\";\nimport { firestoreConnect } from 'react-redux-firebase';\nimport Form from 'react-bootstrap/Form';\nimport Select from 'react-select';\nimport { compose } from 'redux';\nimport LastAdded from './lastAdded/lastAdded';\nimport WhyChooseUs from './whyChooseUs';\nimport hero_bg from '../../assets/home-hero.jpg';\nimport search_icon from '../../assets/search_glass@2x.png';\nimport home_bg from '../../assets/home_bg.png';\nimport './index.scss';\nexport var Home = /*#__PURE__*/function (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n\n    _this.handleChangeSelect = function (searcCity) {\n      _this.setState({\n        searcCity: searcCity\n      });\n\n      console.log('city', _this.state.searcCity);\n    };\n\n    _this.state = {\n      searcCity: null\n    };\n    return _this;\n  } // handleChange = (e) => {\n  //   console.log(e.target.value)\n  //   this.setState({\n  //     [e.target.name]: e.target.value\n  //   })\n  // }\n\n\n  _createClass(Home, [{\n    key: \"render\",\n    value: function render() {\n      var projects = this.props.projects;\n      var herobg = {\n        backgroundImage: \"url(\".concat(hero_bg, \")\")\n      };\n      var homebg = {\n        backgroundImage: \"url(\".concat(home_bg, \")\")\n      };\n      var searchCities = null;\n\n      if (projects) {\n        searchCities = projects && projects.map(function (item) {\n          return {\n            value: item.carCity,\n            label: item.carCity\n          };\n        });\n        searchCities = _toConsumableArray(new Map(searchCities.map(function (obj) {\n          return [JSON.stringify(obj), obj];\n        })).values());\n      }\n\n      console.log('dsadasda', searchCities);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"home-page\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Helmet, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"title\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }\n      }, \"Homepage || take-vehicle\"), /*#__PURE__*/React.createElement(\"meta\", {\n        name: \"keywords\",\n        content: \"Car, Renta, Rentacar, Rent a car, find car\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"meta\", {\n        name: \"description\",\n        content: \"Rent a car to enjoy on your drive\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"section\", {\n        className: \"home-hero\",\n        style: herobg,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }\n      }, \"Find the Best Car\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }\n      }, \"Book unforgettable cars from local hosts around the world\"), /*#__PURE__*/React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Form.Group, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }\n      }, \"Where\"), /*#__PURE__*/React.createElement(Select, {\n        className: \"search-cities\",\n        value: this.state.searcCity,\n        onChange: this.handleChangeSelect,\n        options: searchCities ? searchCities : [{\n          value: 'empty'\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }\n      }), this.state.searcCity !== null ? /*#__PURE__*/React.createElement(Link, {\n        to: '/search/' + this.state.searcCity.value,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 50\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: search_icon,\n        alt: \"Search\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 19\n        }\n      })) : /*#__PURE__*/React.createElement(\"span\", {\n        className: \"empty-link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: search_icon,\n        alt: \"Search\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 56\n        }\n      })))))), /*#__PURE__*/React.createElement(LastAdded, {\n        projects: projects,\n        homebg: homebg,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(WhyChooseUs, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    projects: state.firestore.ordered.project\n  };\n};\n\nexport default compose(connect(mapStateToProps), firestoreConnect([{\n  collection: 'project',\n  orderBy: ['createdAt', 'desc'],\n  limit: 6\n}]))(Home);","map":{"version":3,"sources":["/home/yvsser1/projects/ProjectPFE/src/components/home/index.js"],"names":["React","Component","connect","Link","Helmet","firestoreConnect","Form","Select","compose","LastAdded","WhyChooseUs","hero_bg","search_icon","home_bg","Home","props","handleChangeSelect","searcCity","setState","console","log","state","projects","herobg","backgroundImage","homebg","searchCities","map","item","value","carCity","label","Map","obj","JSON","stringify","values","handleSubmit","mapStateToProps","firestore","ordered","project","collection","orderBy","limit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { Helmet } from \"react-helmet\";\r\n\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Select from 'react-select';\r\nimport { compose } from 'redux'\r\nimport LastAdded from './lastAdded/lastAdded'\r\nimport WhyChooseUs from './whyChooseUs'\r\nimport hero_bg from '../../assets/home-hero.jpg'\r\nimport search_icon from '../../assets/search_glass@2x.png'\r\nimport home_bg from '../../assets/home_bg.png'\r\n\r\nimport './index.scss'\r\n\r\nexport class Home extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      searcCity: null\r\n    }\r\n  }\r\n  // handleChange = (e) => {\r\n  //   console.log(e.target.value)\r\n  //   this.setState({\r\n  //     [e.target.name]: e.target.value\r\n  //   })\r\n  // }\r\n  handleChangeSelect = (searcCity) => {\r\n    this.setState({ searcCity });\r\n    console.log('city', this.state.searcCity)\r\n  }\r\n\r\n  render() {\r\n    const { projects } = this.props\r\n    const herobg = {\r\n      backgroundImage: `url(${hero_bg})`\r\n    }\r\n    const homebg = {\r\n      backgroundImage: `url(${home_bg})`\r\n    }\r\n    let searchCities = null\r\n    if (projects) {\r\n      searchCities = projects && projects.map((item) => {\r\n        return {\r\n          value: item.carCity,\r\n          label: item.carCity\r\n        }\r\n      })\r\n      searchCities = [...new Map(searchCities.map(obj => [JSON.stringify(obj), obj])).values()];\r\n    }\r\n\r\n\r\n    console.log('dsadasda', searchCities)\r\n    return (\r\n      <div className='home-page'>\r\n        <Helmet>\r\n          <title>Homepage || take-vehicle</title>\r\n          <meta name=\"keywords\" content=\"Car, Renta, Rentacar, Rent a car, find car\" />\r\n          <meta\r\n            name=\"description\"\r\n            content=\"Rent a car to enjoy on your drive\"\r\n          />\r\n        </Helmet>\r\n        <section className='home-hero' style={herobg}>\r\n          <div className='content'>\r\n            <h1>Find the Best Car</h1>\r\n            <p>Book unforgettable cars from local hosts around the world</p>\r\n            <Form onSubmit={this.handleSubmit}>\r\n              <Form.Group>\r\n                <Form.Label>Where</Form.Label>\r\n                <Select\r\n                  className='search-cities'\r\n                  value={this.state.searcCity}\r\n                  onChange={this.handleChangeSelect}\r\n                  options={searchCities ? searchCities : [{ value: 'empty' }]}\r\n                />\r\n                {this.state.searcCity !== null ? <Link to={'/search/' + this.state.searcCity.value} >\r\n                  <img src={search_icon} alt='Search' />\r\n                </Link> : <span className='empty-link'><img src={search_icon} alt='Search' /></span>}\r\n              </Form.Group>\r\n            </Form>\r\n          </div>\r\n        </section>\r\n        <LastAdded projects={projects} homebg={homebg} />\r\n        <WhyChooseUs />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    projects: state.firestore.ordered.project\r\n  }\r\n}\r\nexport default compose(\r\n  connect(mapStateToProps),\r\n  firestoreConnect([\r\n    { collection: 'project', orderBy: ['createdAt', 'desc'], limit: 6 }\r\n  ])\r\n)(Home)"]},"metadata":{},"sourceType":"module"}