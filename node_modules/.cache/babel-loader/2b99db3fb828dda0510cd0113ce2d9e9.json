{"ast":null,"code":"import _classCallCheck from \"/home/yvsser1/projects/ProjectPFE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/yvsser1/projects/ProjectPFE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/yvsser1/projects/ProjectPFE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/yvsser1/projects/ProjectPFE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/yvsser1/projects/ProjectPFE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/yvsser1/projects/ProjectPFE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/yvsser1/projects/ProjectPFE/src/components/carDetail/ProjectDetail.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { compose } from 'redux';\nimport { Link } from 'react-router-dom';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Button from 'react-bootstrap/Button';\nimport CarModal from './CarModal';\nimport bg_cars from '../../assets/bg-cars.jpg';\nimport './index.scss';\nexport var ProjectDetail = /*#__PURE__*/function (_Component) {\n  _inherits(ProjectDetail, _Component);\n\n  function ProjectDetail(props) {\n    var _this;\n\n    _classCallCheck(this, ProjectDetail);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProjectDetail).call(this, props));\n    _this.state = {\n      orderFinished: false\n    };\n    _this.orderFinished = _this.orderFinished.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ProjectDetail, [{\n    key: \"orderFinished\",\n    value: function orderFinished(order) {\n      if (order) {\n        this.setState({\n          orderFinished: true\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          project = _this$props.project,\n          users = _this$props.users;\n      var sectionStyle = {\n        backgroundImage: \"url(\".concat(bg_cars, \")\")\n      };\n      var newUser = [];\n\n      if (users && project) {\n        var carList = users;\n        newUser = Object.values(carList).filter(function (item) {\n          return item.id === project.authhorId;\n        });\n      }\n\n      var projectID = '';\n\n      if (this.props.history) {\n        projectID = this.props.match.params.id;\n      }\n\n      if (project) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"section\", {\n          className: \"hero\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"container\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"h1\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }\n        }, project.carType), /*#__PURE__*/React.createElement(\"ul\", {\n          className: \"hero-links\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"li\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"/\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 21\n          }\n        }, \"Home\"), \" \"), /*#__PURE__*/React.createElement(\"li\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"/dashboard\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 21\n          }\n        }, \"Cars\")))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"box-position\",\n          style: sectionStyle,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }\n        })), /*#__PURE__*/React.createElement(Container, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 11\n          }\n        }, this.state.orderFinished ? /*#__PURE__*/React.createElement(\"div\", {\n          className: \"congratulation\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: \"check\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 73\n          }\n        }), \" \", /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 106\n          }\n        }, \"Congratulation!\"), \" Seller will contact you soon.\") : null, /*#__PURE__*/React.createElement(Row, {\n          className: \"car-detail-page\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          lg: \"6\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: project.userImage,\n          alt: \"Car\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }\n        })), /*#__PURE__*/React.createElement(Col, {\n          lg: \"6\",\n          className: \"car-detail-list\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"h4\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }\n        }, project.carType, \" \", project.carModel), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }\n        }, \" \", newUser && newUser[0] && newUser[0].phoneNumber ? /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 72\n          }\n        }, /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 78\n          }\n        }, \"Tel:\"), \"   \", newUser[0].phoneNumber) : null), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }\n        }, project && project.carPrice ? /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 51\n          }\n        }, /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 57\n          }\n        }, \"Price:\"), \" \", project.carPrice + ' ' + project.Currency) : null), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }\n        }, project && project.carCountry ? /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 53\n          }\n        }, /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 59\n          }\n        }, \"Country:\"), \"  \", project.carCountry) : null), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }\n        }, project && project.carCountry ? /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 53\n          }\n        }, /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 59\n          }\n        }, \"City:\"), \"  \", project.carCity) : null), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 17\n          }\n        }, project && project.transmision ? /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 54\n          }\n        }, /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 60\n          }\n        }, \"Transmision:\"), \" \", project.transmision) : null), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }\n        }, newUser && newUser[0] && newUser[0].userAddress ? /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 71\n          }\n        }, /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 77\n          }\n        }, \"Address:\"), \"  \", newUser[0].userAddress) : null), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"divider divider-30\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }\n        }), /*#__PURE__*/React.createElement(\"ul\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }\n        }, project.carStatistick && project.carStatistick.map(function (items, i) {\n          return /*#__PURE__*/React.createElement(\"li\", {\n            key: i,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n            icon: \"check\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 35\n            }\n          }), \" \", items.value);\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"divider divider-30\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 17\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"car-description\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 19\n          }\n        }, project.carDescription)), this.props.auth && project && this.props.auth.uid === project.authhorId ? /*#__PURE__*/React.createElement(Button, {\n          disabled: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 94\n          }\n        }, \"Rent This Car\") : /*#__PURE__*/React.createElement(CarModal, {\n          userID: newUser && newUser[0] && newUser[0].id ? newUser[0].id : 0,\n          projectID: projectID,\n          carType: project.carType,\n          carModel: project.carModel,\n          reserved: this.orderFinished,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 143\n          }\n        })))));\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 9\n          }\n        }, \"Loading project...\");\n      }\n    }\n  }]);\n\n  return ProjectDetail;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state, ownProps) {\n  var id = ownProps.match.params.id;\n  var projects = state.firestore.data.project;\n  var project = projects ? projects[id] : null;\n  return {\n    auth: state.firebase.auth,\n    project: project,\n    users: state.firestore.data.users,\n    messages: state.firestore.data.messages\n  };\n};\n\nexport default compose(connect(mapStateToProps), firestoreConnect([// { collection: 'project', orderBy: ['createdAt', 'desc'], limit: 3 }\n{\n  collection: 'users'\n}, {\n  collection: 'project'\n}, {\n  collection: 'messages'\n}]))(ProjectDetail);","map":{"version":3,"sources":["/home/yvsser1/projects/ProjectPFE/src/components/carDetail/ProjectDetail.js"],"names":["React","Component","connect","firestoreConnect","compose","Link","Container","Row","Col","FontAwesomeIcon","Button","CarModal","bg_cars","ProjectDetail","props","state","orderFinished","bind","order","setState","project","users","sectionStyle","backgroundImage","newUser","carList","Object","values","filter","item","id","authhorId","projectID","history","match","params","carType","userImage","carModel","phoneNumber","carPrice","Currency","carCountry","carCity","transmision","userAddress","carStatistick","map","items","i","value","carDescription","auth","uid","mapStateToProps","ownProps","projects","firestore","data","firebase","messages","collection"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\nimport { compose } from 'redux'\r\nimport { Link } from 'react-router-dom'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport CarModal from './CarModal'\r\nimport bg_cars from '../../assets/bg-cars.jpg'\r\n\r\nimport './index.scss'\r\nexport class ProjectDetail extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      orderFinished: false\r\n    }\r\n    this.orderFinished = this.orderFinished.bind(this)\r\n  }\r\n\r\n  orderFinished(order) {\r\n    if (order) {\r\n      this.setState({\r\n        orderFinished: true\r\n      })\r\n    }\r\n  }\r\n  render() {\r\n    const { project, users } = this.props\r\n    const sectionStyle = {\r\n      backgroundImage: `url(${bg_cars})`\r\n    };\r\n\r\n\r\n    let newUser = []\r\n    if (users && project) {\r\n\r\n      const carList = users\r\n      newUser = Object.values(carList).filter((item) => {\r\n        return item.id === project.authhorId\r\n      })\r\n\r\n    }\r\n    let projectID = ''\r\n    if (this.props.history) {\r\n    projectID = this.props.match.params.id\r\n    }\r\n\r\n\r\n\r\n    if (project) {\r\n      return (\r\n        <div>\r\n          <section className='hero'>\r\n            <div className='container'>\r\n              <h1>{project.carType}</h1>\r\n              <ul className='hero-links'>\r\n                <li><Link to='/'>Home</Link> </li>\r\n                <li><Link to='/dashboard'>Cars</Link></li>\r\n              </ul>\r\n            </div>\r\n            <div className='box-position' style={sectionStyle}></div>\r\n          </section>\r\n          <Container>\r\n            {this.state.orderFinished ? <div className='congratulation'><FontAwesomeIcon icon=\"check\" /> <b>Congratulation!</b> Seller will contact you soon.</div> : null}\r\n            <Row className='car-detail-page'>\r\n              <Col lg=\"6\">\r\n                <img src={project.userImage} alt='Car' />\r\n              </Col>\r\n              <Col lg=\"6\" className='car-detail-list'>\r\n                <h4>{project.carType} {project.carModel}</h4>\r\n                <p> {newUser && newUser[0] && newUser[0].phoneNumber ? <span><b>Tel:</b>   {newUser[0].phoneNumber}</span> : null}</p>\r\n                <p>{project && project.carPrice ? <span><b>Price:</b> {project.carPrice + ' ' + project.Currency}</span> : null}</p>\r\n                <p>{project && project.carCountry ? <span><b>Country:</b>  {project.carCountry}</span> : null}</p>\r\n                <p>{project && project.carCountry ? <span><b>City:</b>  {project.carCity}</span> : null}</p>\r\n                <p>{project && project.transmision ? <span><b>Transmision:</b> {project.transmision}</span> : null}</p>\r\n                <p>{newUser && newUser[0] && newUser[0].userAddress ? <span><b>Address:</b>  {newUser[0].userAddress}</span> : null}</p>\r\n\r\n                <div className='divider divider-30'></div>\r\n                <ul>\r\n                  {project.carStatistick && project.carStatistick.map((items, i) => {\r\n                    return (\r\n                      <li key={i}><FontAwesomeIcon icon=\"check\" /> {items.value}</li>\r\n                    )\r\n                  })}\r\n                </ul>\r\n                <div className='divider divider-30'></div>\r\n                <div className='car-description'>\r\n                  <p>{project.carDescription}</p>\r\n                </div>\r\n                \r\n                  {this.props.auth && project && this.props.auth.uid === project.authhorId ? <Button disabled={true}>Rent This Car</Button> : <CarModal\r\n                  userID={newUser && newUser[0] && newUser[0].id ? newUser[0].id : 0}\r\n                  projectID={projectID}\r\n                  carType={project.carType}\r\n                  carModel={project.carModel}\r\n                  reserved={this.orderFinished}\r\n                />\r\n                }\r\n\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </div>\r\n      )\r\n    }\r\n    else {\r\n      return (\r\n        <div>Loading project...</div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const id = ownProps.match.params.id\r\n  const projects = state.firestore.data.project\r\n  const project = projects ? projects[id] : null\r\n  return {\r\n    auth: state.firebase.auth,\r\n    project: project,\r\n    users: state.firestore.data.users,\r\n    messages: state.firestore.data.messages\r\n  }\r\n}\r\nexport default compose(\r\n  connect(mapStateToProps),\r\n  firestoreConnect([\r\n    // { collection: 'project', orderBy: ['createdAt', 'desc'], limit: 3 }\r\n    { collection: 'users' },\r\n    { collection: 'project' },\r\n    { collection: 'messages' }\r\n  ])\r\n)(ProjectDetail)"]},"metadata":{},"sourceType":"module"}