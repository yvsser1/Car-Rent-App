{"version":3,"sources":["../source/Interaction.js"],"names":["Interaction","state","onFocus","event","mouseInteraction","touchInteraction","setState","pointerInteraction","onMouseDown","mouseTimer","onTouchEnd","touchTimer","children","props","cloneElement","className","Component"],"mappings":";;;;;;;;;AAAA;;;;AACA;;;;AAMA;;;;;;;;;;AAJA;AACA;AACA;AACA;;;AAGA;;;;;;;;IAQqBA,W;;;;;;;;;;;;;;8LACpBC,K,GAAQ,E,QACRC,O,GAAU,UAACC,KAAD,EAAW;AACpB,OAAI,MAAKC,gBAAL,IAAyB,MAAKC,gBAAlC,EAAoD;AACnD,UAAKC,QAAL,CAAc;AACbC,yBAAoB;AADP,KAAd;AAGA;AACD,G,QACDC,W,GAAc,UAACL,KAAD,EAAW;AACxB,SAAKC,gBAAL,GAAwB,IAAxB;AACA,SAAKK,UAAL,GAAkB,8CAAW;AAAA,WAAM,MAAKL,gBAAL,GAAwB,KAA9B;AAAA,IAAX,EAAgD,CAAhD,CAAlB;AACA,G,QACDM,U,GAAa,UAACP,KAAD,EAAW;AACvB,SAAKE,gBAAL,GAAwB,IAAxB;AACA,SAAKM,UAAL,GAAkB,8CAAW;AAAA,WAAM,MAAKN,gBAAL,GAAwB,KAA9B;AAAA,IAAX,EAAgD,CAAhD,CAAlB;AACA,G;;;;;yCACsB;AACtB,mDAAa,KAAKI,UAAlB;AACA,mDAAa,KAAKE,UAAlB;AACA;;;2BACQ;AAAA,OACAC,QADA,GACa,KAAKC,KADlB,CACAD,QADA;AAAA,OAEAL,kBAFA,GAEuB,KAAKN,KAF5B,CAEAM,kBAFA;;AAGR,UAAO,gBAAMO,YAAN,CAAmBF,QAAnB,EAA6B;AACnCV,oBADmC;AAEnCM,4BAFmC;AAGnCE,0BAHmC;AAInCK,eAAW,0BAAWH,SAASC,KAAT,CAAeE,SAA1B,EAAqC;AAC/C,mCAA8BR;AADiB,KAArC;AAJwB,IAA7B,CAAP;AAQA;;;;EAhCuC,gBAAMS,S;;kBAA1BhB,W","file":"Interaction.js","sourcesContent":["import React from 'react'\r\nimport classNames from 'classnames'\r\n\r\n// For some weird reason, in Chrome, `setTimeout()` would lag up to a second (or more) behind.\r\n// Turns out, Chrome developers have deprecated `setTimeout()` API entirely without asking anyone.\r\n// Replacing `setTimeout()` with `requestAnimationFrame()` can work around that Chrome bug.\r\n// https://github.com/bvaughn/react-virtualized/issues/722\r\nimport { setTimeout, clearTimeout } from 'request-animation-frame-timeout'\r\n\r\n/**\r\n * .rrui__interaction--pointer {\r\n *   outline: none;\r\n *   box-shadow: none;\r\n * }\r\n * <Interaction><input .../></Interaction>\r\n * <Interaction><button .../></Interaction>\r\n */\r\nexport default class Interaction extends React.Component {\r\n\tstate = {}\r\n\tonFocus = (event) => {\r\n\t\tif (this.mouseInteraction || this.touchInteraction) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tpointerInteraction: true\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\tonMouseDown = (event) => {\r\n\t\tthis.mouseInteraction = true\r\n\t\tthis.mouseTimer = setTimeout(() => this.mouseInteraction = false, 0)\r\n\t}\r\n\tonTouchEnd = (event) => {\r\n\t\tthis.touchInteraction = true\r\n\t\tthis.touchTimer = setTimeout(() => this.touchInteraction = false, 0)\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tclearTimeout(this.mouseTimer)\r\n\t\tclearTimeout(this.touchTimer)\r\n\t}\r\n\trender() {\r\n\t\tconst { children } = this.props\r\n\t\tconst { pointerInteraction } = this.state\r\n\t\treturn React.cloneElement(children, {\r\n\t\t\tonFocus,\r\n\t\t\tonMouseDown,\r\n\t\t\tonTouchEnd,\r\n\t\t\tclassName: classNames(children.props.className, {\r\n\t\t\t\t'rrui__interaction--pointer': pointerInteraction\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n}"]}